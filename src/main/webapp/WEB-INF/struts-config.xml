<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.2//EN" "http://struts.apache.org/dtds/struts-config_1_2.dtd" [
	<!ENTITY protocol_forwards SYSTEM "struts_protocol_forwards.xml">
	]>

<struts-config>
    <data-sources />

    <form-beans >
        <!--  Rice Bean Definitions : This is a bean declared in Rice, but is needed throughout this config -->
        <form-bean name="KualiForm" type="org.kuali.rice.kns.web.struts.form.KualiForm" />
		<form-bean name="KualiExceptionIncidentForm" type="org.kuali.rice.kns.web.struts.form.KualiExceptionIncidentForm" />
		<form-bean name="ProposalDevelopmentForm" type="org.kuali.kra.proposaldevelopment.web.struts.form.ProposalDevelopmentForm" />
		<form-bean name="BudgetForm" type="org.kuali.kra.budget.web.struts.form.BudgetForm" />
		<form-bean name="AwardForm" type="org.kuali.kra.award.web.struts.form.AwardForm" />
		<form-bean name="DocHandlerForm" type="org.kuali.rice.kew.routing.web.DocHandlerForm" />
		<form-bean name="ChangePasswordForm" type="org.kuali.kra.web.struts.form.ChangePasswordForm" />
		<form-bean name="UnitHierarchyForm" type="org.kuali.kra.web.struts.form.UnitHierarchyForm" />
		<form-bean name="SponsorHierarchyForm" type="org.kuali.kra.web.struts.form.SponsorHierarchyForm" />
		<form-bean name="ProtocolForm" type="org.kuali.kra.irb.ProtocolForm" />
		<form-bean name="ResearchAreasForm" type="org.kuali.kra.web.struts.form.ResearchAreasForm" />
		<form-bean name="CommitteeForm" type="org.kuali.kra.committee.web.struts.form.CommitteeForm" />
    </form-beans>

    <global-exceptions>
        <!-- Begin required KNS exceptions -->
        <!-- Moved to /kualiExceptionIncidentReport.do -->
        <!--
        <exception type="org.kuali.rice.kns.exceptions.AuthorizationException" key="meaningless" path="/authorizationException.do" />
        <exception type="org.kuali.rice.kns.exceptions.DocumentInitiationAuthorizationException" key="meaningless" path="/initiationAuthorizationException.do" />
        -->
        <exception type="org.kuali.rice.kns.exceptions.UnknownDocumentIdException" key="error.document.noLongerExistsInKuali" path="/kr/WEB-INF/jsp/Exception.jsp" />
        <exception type="org.kuali.rice.kns.exceptions.FileUploadLimitExceededException" key="error.document.attachmentMaximumFileSizeExceeded" path="/kr/WEB-INF/jsp/Exception.jsp" />
       	<exception type="java.lang.Throwable" handler="org.kuali.rice.kns.web.struts.pojo.StrutsExceptionIncidentHandler" key="na"/>
       	<!-- End required KNS exceptions -->
    </global-exceptions>

    <global-forwards >
        <forward name="copyProposal" path="/WEB-INF/jsp/proposaldevelopment/copyProposal.jsp" redirect="true" />
       	<!-- Begin required KNS forwards -->
       	<forward name="save" path="/portal.jsp" redirect="true" />
        <forward name="cancel" path="/portal.jsp" redirect="true" />
        <forward name="close" path="/portal.jsp" redirect="true" />
        <forward name="portal" path="/portal.jsp" redirect="true" />
        <forward name="route_report" path="/kr/WEB-INF/jsp/RoutingReportForward.jsp"/>
        <forward name="error" path="/kr/WEB-INF/jsp/KualiError.jsp" />
        <forward name="exceptionIncidentHandler" path="/kualiExceptionIncidentReport.do" />
        <forward name="updateTextArea" path="/kr/WEB-INF/jsp/TextArea.jsp" />
        <forward name="kraUpdateTextArea" path="/TextArea.jsp" />
       	<!-- End required KNS forwards -->
       	<forward name="closePage" path="/EmptyClosePage.html" />
    </global-forwards>

    <action-mappings>
       	<!-- Begin required KNS mappings -->
        <action path="/authorizationException" name="KualiForm" type="org.kuali.rice.kns.web.struts.action.KualiAuthorizationExceptionAction">
            <forward name="basic" path="/kr/WEB-INF/jsp/authorizationException.jsp" />
        </action>
        <action path="/initiationAuthorizationException" name="KualiForm" type="org.kuali.rice.kns.web.struts.action.KualiDocumentInitiationAuthorizationExceptionAction">
            <forward name="basic" path="/kr/WEB-INF/jsp/authorizationException.jsp" />
        </action>
        <action path="/kualiExceptionIncidentReport"
                name="KualiExceptionIncidentForm"
                attribute="KualiForm"
                type="org.kuali.rice.kns.web.struts.action.KualiExceptionHandlerAction">
            <forward name="basic" path="/kr/WEB-INF/jsp/KualiExceptionIncident.jsp" />
            <forward name="AuthorizationException" path="/authorizationException.do" />
            <forward name="DocumentInitiationAuthorizationException" path="/initiationAuthorizationException.do" />
        </action>        
        <action path="/updateTextArea" name="KualiForm" type="org.kuali.rice.kns.web.struts.action.KualiDocumentActionBase">
            <forward name="basic" path="/kr/WEB-INF/jsp/TextArea.jsp" />
        </action>
       	<!-- End required KNS mappings -->

        <!--  Core Action Mappings -->
        <action path="/portal" name="KualiForm" type="org.kuali.rice.kns.web.struts.action.KualiSimpleAction">
            <forward name="basic" path="/portal.jsp" />
        </action>

        <action path="/index" name="KualiForm" type="org.kuali.rice.kns.web.struts.action.KualiSimpleAction">
            <forward name="basic" path="/portal.jsp" />
        </action>

 		<action path="/exception" name="KualiForm" type="org.kuali.kra.web.struts.action.KraExceptionAction">
            <forward name="basic" path="/error.jsp" />
        </action>
                            
      <!--  KRA Proposal Development Mapping -->
      <action path="/proposalDevelopment*" name="ProposalDevelopmentForm" input="/WEB-INF/jsp/proposaldevelopment/ProposalDevelopment{1}.jsp" type="org.kuali.kra.proposaldevelopment.web.struts.action.ProposalDevelopment{1}Action"  scope="request" parameter="methodToCall" validate="true" attribute="KualiForm">
          <forward name="basic" path="/WEB-INF/jsp/proposaldevelopment/ProposalDevelopment{1}.jsp" />
          <forward name="budgetVersions" path="/WEB-INF/jsp/proposaldevelopment/ProposalDevelopmentBudgetVersions.jsp" />
          <forward name="keyPersonnel" path="/WEB-INF/jsp/proposaldevelopment/ProposalDevelopmentKeyPersonnel.jsp" />
          <forward name="questions" path="/WEB-INF/jsp/proposaldevelopment/ProposalDevelopmentQuestions.jsp" />
          <forward name="proposal" path="/WEB-INF/jsp/proposaldevelopment/ProposalDevelopmentProposal.jsp" />
          <forward name="specialReview" path="/WEB-INF/jsp/proposaldevelopment/ProposalDevelopmentSpecialReview.jsp" />
          <forward name="abstractsAttachments" path="/WEB-INF/jsp/proposaldevelopment/ProposalDevelopmentAbstractsAttachments.jsp" />
          <forward name="attachmentRights" path="/WEB-INF/jsp/proposaldevelopment/ProposalDevelopmentAttachmentRights.jsp" />
          <forward name="instituteAttachmentRights" path="/WEB-INF/jsp/proposaldevelopment/ProposalDevelopmentInstituteAttachmentRights.jsp" />
          <forward name="customData" path="/WEB-INF/jsp/proposaldevelopment/ProposalDevelopmentCustomData.jsp" />
          <forward name="actions" path="/WEB-INF/jsp/proposaldevelopment/ProposalDevelopmentActions.jsp" />
       	  <forward name="resubmit" path="/WEB-INF/jsp/proposaldevelopment/ProposalDevelopmentResubmission.jsp" />
          <forward name="grantsGov" path="/WEB-INF/jsp/proposaldevelopment/ProposalDevelopmentGrantsGov.jsp" />
          <forward name="permissions" path="/WEB-INF/jsp/proposaldevelopment/ProposalDevelopmentPermissions.jsp" />
          <forward name="permissionsRoleRights" path="/WEB-INF/jsp/proposaldevelopment/ProposalDevelopmentPermissionsRoleRights.jsp" />
      	  <forward name="permissionsEditRoles" path="/WEB-INF/jsp/proposaldevelopment/ProposalDevelopmentPermissionsEditRoles.jsp" />
      	  <forward name="permissionsCloseEditRoles" path="/WEB-INF/jsp/proposaldevelopment/ProposalDevelopmentPermissionsCloseEditRoles.jsp" />
      </action>
      
		<action path="/kraUpdateTextArea" name="KualiForm" type="org.kuali.kra.web.struts.action.KraTransactionalDocumentActionBase">
            <forward name="basic" path="/TextArea.jsp" />
        </action>
        
        <action path="/changePassword" name="ChangePasswordForm" input="/ChangePassword.jsp" type="org.kuali.kra.web.struts.action.ChangePasswordAction" scope="request" parameter="methodToCall" validate="true" attribute="KualiForm">
            <forward name="basic" path="/ChangePassword.jsp" />
        </action>

 		<action path="/unitHierarchy" name="UnitHierarchyForm" type="org.kuali.kra.web.struts.action.UnitHierarchyAction">
            <forward name="basic" path="/unitHierarchy.jsp" />
        </action>
 		<action path="/researchAreas" name="ResearchAreasForm" type="org.kuali.kra.web.struts.action.ResearchAreasAction">
            <forward name="basic" path="/researchAreasLoad.jsp" />
            <forward name="lookup" path="/researchAreaSearch.jsp" />
        </action>
        <action path="/researchAreaSearch" name="ResearchAreasForm" type="org.kuali.kra.web.struts.action.ResearchAreasAction">
            <forward name="basic" path="/researchAreaSearch.jsp" />
        </action>
        
 		<!-- action path="/sponsorHierarchy*" name="SponsorHierarchyForm" input="/SponsorHierarchy{1}.jsp" type="org.kuali.kra.web.struts.action.SponsorHierarchyAction" scope="request" -->
 		<action path="/sponsorHierarchy" name="SponsorHierarchyForm" input="/SponsorHierarchyInit.jsp" type="org.kuali.kra.web.struts.action.SponsorHierarchyAction">
            <forward name="copy" path="/SponsorHierarchyCopy.jsp" />
            <forward name="new" path="/SponsorHierarchyNew.jsp" />
            <forward name="basic" path="/sponsorHierarchyInit.jsp" />
            <forward name="maint" path="/sponsorHierarchyMaint.jsp" />
            <forward name="lookup" path="/sponsorLookup.jsp" />
        </action>
        <action path="/sponsorLookup" name="SponsorHierarchyForm" type="org.kuali.kra.web.struts.action.SponsorHierarchyAction">
            <forward name="basic" path="/sponsorLookup.jsp" />
            <forward name="lookup" path="/sponsorLookup.jsp" />
        </action>

      <!--  Budget -->
      <action path="/budget*" name="BudgetForm" input="/WEB-INF/jsp/budget/Budget{1}.jsp" type="org.kuali.kra.budget.web.struts.action.Budget{1}Action"  scope="request" parameter="methodToCall" validate="true" attribute="KualiForm">
          <forward name="basic" path="/WEB-INF/jsp/budget/Budget{1}.jsp" />
          <forward name="versions" path="/WEB-INF/jsp/budget/BudgetVersions.jsp" />
          <forward name="summary" path="/WEB-INF/jsp/budget/BudgetSummary.jsp" />
          <forward name="personnel" path="/WEB-INF/jsp/budget/BudgetPersonnel.jsp" />
          <forward name="expenses" path="/WEB-INF/jsp/budget/BudgetExpenses.jsp" />
          <forward name="personnelBudget" path="/WEB-INF/jsp/budget/BudgetPersonnelBudget.jsp" />
          <forward name="rates_save" path="/WEB-INF/jsp/budget/BudgetSummary.jsp" />
          <forward name="rates" path="/WEB-INF/jsp/budget/BudgetRates.jsp" />
          <forward name="distributionAndIncome" path="/WEB-INF/jsp/budget/BudgetDistributionAndIncome.jsp" />
          <forward name="modularBudget" path="/WEB-INF/jsp/budget/BudgetModularBudget.jsp" />
          <forward name="totals" path="/WEB-INF/jsp/budget/BudgetTotals.jsp" />
          <forward name="proposalHierarchy" path="/WEB-INF/jsp/budget/BudgetProposalHierarchy.jsp" />
          <forward name="budgetActions" path="/WEB-INF/jsp/budget/BudgetActions.jsp" redirect="false" />
      </action>
      
      <action path="/DocCopyHandler" name="DocHandlerForm" scope="request" parameter="methodToCall"
        type="org.kuali.kra.web.struts.action.CustomDocHandlerRedirectAction" >
        <forward name="documentLocked" path="/WEB-INF/jsp/DocumentLocked.jsp" />
        <forward name="requiredStateError" path="/WEB-INF/jsp/DocumentLocked.jsp"/>
        <forward name="finalStateError" path="/WEB-INF/jsp/DocumentLocked.jsp"/>
      </action>
      
      <!--  Award -->      
      <action path="/award*" name="AwardForm" input="/WEB-INF/jsp/award/Award{1}.jsp" type="org.kuali.kra.award.web.struts.action.Award{1}Action"  scope="request" parameter="methodToCall" validate="true" attribute="KualiForm">
          <forward name="basic" path="/WEB-INF/jsp/award/Award{1}.jsp" />
          <forward name="home" path="/WEB-INF/jsp/award/AwardHome.jsp" />
          <forward name="contacts" path="/WEB-INF/jsp/award/AwardContacts.jsp" />
          <forward name="commitments" path="/WEB-INF/jsp/award/AwardCommitments.jsp" />
          <forward name="timeAndMoney" path="/WEB-INF/jsp/award/AwardTimeAndMoney.jsp" />
          <forward name="paymentReportsAndTerms" path="/WEB-INF/jsp/award/AwardPaymentReportsAndTerms.jsp" />
          <forward name="specialReview" path="/WEB-INF/jsp/award/AwardSpecialReview.jsp" />
          <forward name="customData" path="/WEB-INF/jsp/award/AwardCustomData.jsp" />
          <forward name="questions" path="/WEB-INF/jsp/award/AwardQuestions.jsp" />
          <forward name="permissions" path="/WEB-INF/jsp/award/AwardPermissions.jsp" />
          <forward name="permissionsRoleRights" path="/WEB-INF/jsp/award/AwardPermissionsRoleRights.jsp" />
          <forward name="permissionsEditRoles" path="/WEB-INF/jsp/award/AwardPermissionsEditRoles.jsp" />
          <forward name="permissionsCloseEditRoles" path="/WEB-INF/jsp/award/AwardPermissionsCloseEditRoles.jsp" />
          <forward name="notesAndAttachments" path="/WEB-INF/jsp/award/AwardNotesAndAttachments.jsp" />
          <forward name="awardActions" path="/WEB-INF/jsp/award/AwardActions.jsp" />                    
      </action>
      
      <!--  KRA IRB Mapping START -->    
      <action path="/personnel" name="ProtocolForm" input="/WEB-INF/jsp/irb/ProtocolPersonnel.jsp" type="org.kuali.kra.irb.personnel.ProtocolPersonnelAction"  scope="request" parameter="methodToCall" validate="true" attribute="KualiForm">
          <forward name="basic" path="/WEB-INF/jsp/irb/ProtocolPersonnel.jsp" />
		  &protocol_forwards;
      </action>
      
      <action path="/protocolNoteAndAttachment" name="ProtocolForm" input="/WEB-INF/jsp/irb/ProtocolNoteAttachment.jsp" type="org.kuali.kra.irb.noteattachment.ProtocolNoteAndAttachmentAction"  scope="request" parameter="methodToCall" validate="true" attribute="KualiForm">
		<forward name="basic" path="/WEB-INF/jsp/irb/ProtocolNoteAndAttachment.jsp" />
		&protocol_forwards;
      </action>
      
      <action path="/protocolPermissions" name="ProtocolForm" input="/WEB-INF/jsp/irb/ProtocolPermissions.jsp" type="org.kuali.kra.irb.permission.ProtocolPermissionsAction"  scope="request" parameter="methodToCall" validate="true" attribute="KualiForm">
		<forward name="basic" path="/WEB-INF/jsp/irb/ProtocolPermissions.jsp" />
		&protocol_forwards;
      </action>
      
      <action path="/protocolCustomData" name="ProtocolForm" input="/WEB-INF/jsp/irb/ProtocolCustomData.jsp" type="org.kuali.kra.irb.customdata.ProtocolCustomDataAction"  scope="request" parameter="methodToCall" validate="true" attribute="KualiForm" >
		<forward name="basic" path="/WEB-INF/jsp/irb/ProtocolCustomData.jsp" />
		&protocol_forwards;
      </action>

      <action path="/protocolSpecialReview" name="ProtocolForm" input="/WEB-INF/jsp/irb/ProtocolSpecialReview.jsp" type="org.kuali.kra.irb.specialreview.ProtocolSpecialReviewAction"  scope="request" parameter="methodToCall" validate="true" attribute="KualiForm" >
		<forward name="basic" path="/WEB-INF/jsp/irb/ProtocolSpecialReview.jsp" />
		&protocol_forwards;
      </action>
      
      <action path="/protocolProtocolActions" name="ProtocolForm" input="/WEB-INF/jsp/irb/ProtocolProtocolActions.jsp" type="org.kuali.kra.irb.actions.ProtocolProtocolActionsAction"  scope="request" parameter="methodToCall" validate="true" attribute="KualiForm">
        <forward name="basic" path="/WEB-INF/jsp/irb/ProtocolProtocolActions.jsp" />
	    &protocol_forwards;
      </action>
      
      <action path="/protocolProtocol" name="ProtocolForm" input="/WEB-INF/jsp/irb/ProtocolProtocol.jsp" type="org.kuali.kra.irb.protocol.ProtocolProtocolAction"  scope="request" parameter="methodToCall" validate="true" attribute="KualiForm">
        <forward name="basic" path="/WEB-INF/jsp/irb/ProtocolProtocol.jsp" />
	    &protocol_forwards;
      </action>
      <!--  KRA IRB Mapping END -->
      
      
      <!--  KRA Committee Mapping -->
      <action path="/committee*" name="CommitteeForm" input="/WEB-INF/jsp/committee/Committee{1}.jsp" type="org.kuali.kra.committee.web.struts.action.Committee{1}Action"  scope="request" parameter="methodToCall" validate="true" attribute="KualiForm">
          <forward name="basic" path="/WEB-INF/jsp/committee/Committee{1}.jsp" />
          <forward name="committee" path="/WEB-INF/jsp/committee/CommitteeCommittee.jsp" />
          <forward name="committeeMembership" path="/WEB-INF/jsp/committee/CommitteeMembership.jsp" />
          <forward name="committeeSchedule" path="/WEB-INF/jsp/committee/CommitteeSchedule.jsp" />
      </action>

    </action-mappings>

    <controller processorClass="org.kuali.kra.web.struts.action.KraRequestProcessor" />
    <message-resources parameter="ApplicationResources" />

    <plug-in className="org.kuali.rice.kns.web.struts.pojo.PojoPlugin" />
</struts-config>
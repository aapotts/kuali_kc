<html>
    <head>
        <title>Text Area popup</title>
    </head>
<script type="text/javascript">

var textAreaID
function setTextArea() {
  passData=document.location.search.substring(1);
  var idx=passData.indexOf("&textAreaId=")
  textAreaId=passData.substr(idx+12,passData.length-idx-12)
  text=passData.substr(0,idx)
  text=text.replace(/<br>/g,"\n") 
  document.forms[0].detail.value =text 
}

function postValueToParentWindow() {
  opener.document.getElementById(textAreaId).value = document.forms[0].detail.value;
  self.close();
}
</script>
<body onLoad="setTextArea()">
  <h1> Description </h1>
  <form action="">
  <textarea name='detail' rows='20' cols='60'> </textarea>
  <br/>
  <br/>
  <table>
  <tr>
  <td align="center" width="400">
  	<input type="image"
		name="methodToCall.postTextAreaToParent" onclick='postValueToParentWindow();return false'
		src="kr/static/images/buttonsmall_save.gif"
		class="globalbuttons" title="save" alt="save">
		</td></tr></table>
  </form>
</body>
</html>
DELIMITER /
DROP PROCEDURE IF EXISTS p
/
CREATE PROCEDURE p ()
BEGIN
  DECLARE brch_id INT;
  INSERT INTO KREW_RTE_NODE_S VALUES(NULL);
  SELECT MAX(ID) INTO brch_id FROM KREW_RTE_NODE_S;
  SET @insert_brch := CONCAT('INSERT INTO KREW_RTE_BRCH_T (RTE_BRCH_ID,NM,VER_NBR) VALUES (',brch_id,',"PRIMARY",12)');
  PREPARE insert_brch_stmt FROM @insert_brch;
  EXECUTE insert_brch_stmt;
  DEALLOCATE PREPARE insert_brch_stmt;
  INSERT INTO KREW_RTE_NODE_S VALUES(NULL);
  SET @insert_brch := CONCAT('INSERT INTO KREW_RTE_NODE_INSTN_T (RTE_NODE_INSTN_ID,DOC_HDR_ID,RTE_NODE_ID,BRCH_ID,ACTV_IND,CMPLT_IND,INIT_IND,VER_NBR) VALUES ((SELECT MAX(ID) FROM KREW_RTE_NODE_S),(SELECT DOC_HDR_ID FROM KREW_DOC_HDR_T WHERE TTL = "New Questionnaire - IRB Long V1 "),(SELECT RTE_NODE_ID FROM KREW_RTE_NODE_T WHERE DOC_TYP_ID = (SELECT MAX(DOC_TYP_ID) FROM KREW_DOC_TYP_T WHERE DOC_TYP_NM = "KcSharedMaintenanceDocument")),',brch_id,',0,1,0,5)');
  PREPARE insert_brch_stmt FROM @insert_brch;
  EXECUTE insert_brch_stmt;
  DEALLOCATE PREPARE insert_brch_stmt;
  SET @insert_brch := CONCAT('INSERT INTO KREW_INIT_RTE_NODE_INSTN_T (DOC_HDR_ID,RTE_NODE_INSTN_ID) VALUES ((SELECT DOC_HDR_ID FROM KREW_DOC_HDR_T WHERE TTL = "New Questionnaire - IRB Long V1 "),(SELECT MAX(ID) FROM KREW_RTE_NODE_S))');
  PREPARE insert_brch_stmt FROM @insert_brch;
  EXECUTE insert_brch_stmt;
  DEALLOCATE PREPARE insert_brch_stmt;
END;
/
CALL p ()
/
DROP PROCEDURE IF EXISTS p
/
CREATE PROCEDURE p ()
BEGIN
  DECLARE brch_id INT;
  INSERT INTO KREW_RTE_NODE_S VALUES(NULL);
  SELECT MAX(ID) INTO brch_id FROM KREW_RTE_NODE_S;
  SET @insert_brch := CONCAT('INSERT INTO KREW_RTE_BRCH_T (RTE_BRCH_ID,NM,VER_NBR) VALUES (',brch_id,',"PRIMARY",12)');
  PREPARE insert_brch_stmt FROM @insert_brch;
  EXECUTE insert_brch_stmt;
  DEALLOCATE PREPARE insert_brch_stmt;
  INSERT INTO KREW_RTE_NODE_S VALUES(NULL);
  SET @insert_brch := CONCAT('INSERT INTO KREW_RTE_NODE_INSTN_T (RTE_NODE_INSTN_ID,DOC_HDR_ID,RTE_NODE_ID,BRCH_ID,ACTV_IND,CMPLT_IND,INIT_IND,VER_NBR) VALUES ((SELECT MAX(ID) FROM KREW_RTE_NODE_S),(SELECT DOC_HDR_ID FROM KREW_DOC_HDR_T WHERE TTL = "New Questionnaire - IRB Short V1 "),(SELECT RTE_NODE_ID FROM KREW_RTE_NODE_T WHERE DOC_TYP_ID = (SELECT MAX(DOC_TYP_ID) FROM KREW_DOC_TYP_T WHERE DOC_TYP_NM = "KcSharedMaintenanceDocument")),',brch_id,',0,1,0,5)');
  PREPARE insert_brch_stmt FROM @insert_brch;
  EXECUTE insert_brch_stmt;
  DEALLOCATE PREPARE insert_brch_stmt;
  SET @insert_brch := CONCAT('INSERT INTO KREW_INIT_RTE_NODE_INSTN_T (DOC_HDR_ID,RTE_NODE_INSTN_ID) VALUES ((SELECT DOC_HDR_ID FROM KREW_DOC_HDR_T WHERE TTL = "New Questionnaire - IRB Short V1 "),(SELECT MAX(ID) FROM KREW_RTE_NODE_S))');
  PREPARE insert_brch_stmt FROM @insert_brch;
  EXECUTE insert_brch_stmt;
  DEALLOCATE PREPARE insert_brch_stmt;
END;
/
CALL p ()
/
DROP PROCEDURE IF EXISTS p
/
CREATE PROCEDURE p ()
BEGIN
  DECLARE brch_id INT;
  INSERT INTO KREW_RTE_NODE_S VALUES(NULL);
  SELECT MAX(ID) INTO brch_id FROM KREW_RTE_NODE_S;
  SET @insert_brch := CONCAT('INSERT INTO KREW_RTE_BRCH_T (RTE_BRCH_ID,NM,VER_NBR) VALUES (',brch_id,',"PRIMARY",12)');
  PREPARE insert_brch_stmt FROM @insert_brch;
  EXECUTE insert_brch_stmt;
  DEALLOCATE PREPARE insert_brch_stmt;
  INSERT INTO KREW_RTE_NODE_S VALUES(NULL);
  SET @insert_brch := CONCAT('INSERT INTO KREW_RTE_NODE_INSTN_T (RTE_NODE_INSTN_ID,DOC_HDR_ID,RTE_NODE_ID,BRCH_ID,ACTV_IND,CMPLT_IND,INIT_IND,VER_NBR) VALUES ((SELECT MAX(ID) FROM KREW_RTE_NODE_S),(SELECT DOC_HDR_ID FROM KREW_DOC_HDR_T WHERE TTL = "Edit Questionnaire - IRB Long V2 "),(SELECT RTE_NODE_ID FROM KREW_RTE_NODE_T WHERE DOC_TYP_ID = (SELECT MAX(DOC_TYP_ID) FROM KREW_DOC_TYP_T WHERE DOC_TYP_NM = "KcSharedMaintenanceDocument")),',brch_id,',0,1,0,5)');
  PREPARE insert_brch_stmt FROM @insert_brch;
  EXECUTE insert_brch_stmt;
  DEALLOCATE PREPARE insert_brch_stmt;
  SET @insert_brch := CONCAT('INSERT INTO KREW_INIT_RTE_NODE_INSTN_T (DOC_HDR_ID,RTE_NODE_INSTN_ID) VALUES ((SELECT DOC_HDR_ID FROM KREW_DOC_HDR_T WHERE TTL = "Edit Questionnaire - IRB Long V2 "),(SELECT MAX(ID) FROM KREW_RTE_NODE_S))');
  PREPARE insert_brch_stmt FROM @insert_brch;
  EXECUTE insert_brch_stmt;
  DEALLOCATE PREPARE insert_brch_stmt;
END;
/
CALL p ()
/
DELIMITER ;

create or replace PROCEDURE GET_PROP_LOCATION_LIST (

    AW_PROPOSAL_NUMBER IN     OSP$EPS_PROP_LOCATION.PROPOSAL_NUMBER%TYPE ,
    CUR_GENERIC        IN OUT RESULT_SETS.CUR_GENERIC )

IS
BEGIN

  OPEN CUR_GENERIC FOR
    SELECT
      OSP$EPS_PROP_LOCATION.PROPOSAL_NUMBER ,
      OSP$EPS_PROP_LOCATION.LOCATION ,
      OSP$EPS_PROP_LOCATION.ROLODEX_ID ,
      OSP$ROLODEX.ORGANIZATION ,
      OSP$ROLODEX.ADDRESS_LINE_1 ,
      OSP$ROLODEX.ADDRESS_LINE_2 ,
      OSP$ROLODEX.ADDRESS_LINE_3 ,
      OSP$ROLODEX.CITY ,
      OSP$ROLODEX.COUNTY ,
      OSP$ROLODEX.STATE ,
      OSP$ROLODEX.POSTAL_CODE ,
      OSP$ROLODEX.COUNTRY_CODE ,
      OSP$EPS_PROP_LOCATION.UPDATE_USER ,
      OSP$EPS_PROP_LOCATION.UPDATE_TIMESTAMP
    FROM
      OSP$EPS_PROP_LOCATION ,
      OSP$ROLODEX
    WHERE
      OSP$EPS_PROP_LOCATION.PROPOSAL_NUMBER = AW_PROPOSAL_NUMBER AND
      OSP$EPS_PROP_LOCATION.ROLODEX_ID = OSP$ROLODEX.ROLODEX_ID (+)
    ORDER BY
      OSP$EPS_PROP_LOCATION.LOCATION ASC ;

END;
/


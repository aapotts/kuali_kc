-- 
-- SQL script to patch a release 1.0 DB to release 1.0.1 DB
-- Created 7-AUG-2008 by Tyler Wilson
--
-- Includes JIRA Fixes:
--   KRACOEUS-1636
--     - Adds FK constraints to EPS_PROP_UNIT_CREDIT_SPLIT and 
--       EPS_PROP_PER_CREDIT_SPLIT tables
--

-- KRACOEUS-1636
ALTER TABLE EPS_PROP_UNIT_CREDIT_SPLIT 
ADD CONSTRAINT FK1_EPS_PROP_UNIT_CREDIT_SPLIT FOREIGN KEY 
(
"PROPOSAL_NUMBER"
) REFERENCES EPS_PROPOSAL 
(
"PROPOSAL_NUMBER"
) ENABLE
;

ALTER TABLE EPS_PROP_PER_CREDIT_SPLIT 
ADD CONSTRAINT FK1_EPS_PROP_PER_CREDIT_SPLIT FOREIGN KEY 
(
"PROPOSAL_NUMBER"
) REFERENCES EPS_PROPOSAL 
(
"PROPOSAL_NUMBER"
) ENABLE
;

ALTER TABLE EPS_PROP_UNIT_CREDIT_SPLIT 
ADD CONSTRAINT FK2_EPS_PROP_UNIT_CREDIT_SPLIT FOREIGN KEY 
(
"INV_CREDIT_TYPE_CODE"
) REFERENCES INV_CREDIT_TYPE
(
"INV_CREDIT_TYPE_CODE"
) ENABLE
;

ALTER TABLE EPS_PROP_PER_CREDIT_SPLIT 
ADD CONSTRAINT FK2_EPS_PROP_PER_CREDIT_SPLIT FOREIGN KEY 
(
"INV_CREDIT_TYPE_CODE"
) REFERENCES INV_CREDIT_TYPE 
(
"INV_CREDIT_TYPE_CODE"
) ENABLE
;
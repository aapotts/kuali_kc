CREATE TABLE AWARD_HIERARCHY (
	AWARD_HIERARCHY_ID NUMBER(22) NOT NULL, 
    ROOT_AWARD_NUMBER VARCHAR2(12) NOT NULL, 
    AWARD_NUMBER VARCHAR2(12) NOT NULL, 
    PARENT_AWARD_NUMBER VARCHAR2(12) NOT NULL,
    ORIGINATING_AWARD_NUMBER VARCHAR2(12) NOT NULL, 
    UPDATE_TIMESTAMP DATE NOT NULL, 
    UPDATE_USER VARCHAR2(60) NOT NULL, 
    VER_NBR NUMBER(8,0) DEFAULT 1 NOT NULL, 
    OBJ_ID VARCHAR2(36) DEFAULT SYS_GUID() NOT NULL);


-- Primary Key Constraint 
ALTER TABLE AWARD_HIERARCHY 
ADD CONSTRAINT PK_AWARD_HIERARCHY 
PRIMARY KEY (AWARD_HIERARCHY_ID);

-- Unique key constraint
ALTER TABLE AWARD_HIERARCHY 
ADD CONSTRAINT UQ_AWD_HIER_AWARD_NBR 
UNIQUE (AWARD_NUMBER);


-- Foreign key constraints: Need to ensure UQ constraint on AWARD:AWARD_NUMBER
--ALTER TABLE AWARD
--ADD CONSTRAINT FK_AWARD_HIER_AWARD_NO 
--FOREIGN KEY (AWARD_NUMBER) 
--REFERENCES AWARD (AWARD_NUMBER);

--ALTER TABLE AWARD
--ADD CONSTRAINT FK_AWARD_HIER_ROOT_AWD_NO 
--FOREIGN KEY (ROOT_AWARD_NUMBER) 
--REFERENCES AWARD (AWARD_NUMBER);
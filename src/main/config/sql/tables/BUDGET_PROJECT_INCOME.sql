CREATE TABLE BUDGET_PROJECT_INCOME (
 	"PROPOSAL_NUMBER" VARCHAR2(12) constraint BUDGET_PROJECT_INCOME_PN NOT NULL ENABLE, 
	"BUDGET_VERSION_NUMBER" NUMBER(3,0) constraint BUDGET_PROJECT_INCOME_BV NOT NULL ENABLE,
	"PROJECT_INCOME_ID" NUMBER(5,0) constraint BUDGET_PROJECT_INCOME_ID NOT NULL ENABLE,
	 
	"BUDGET_PERIOD" NUMBER(3,0) constraint BUDGET_PROJECT_INCOME_BP NOT NULL ENABLE, 
 	"AMOUNT"  NUMBER(12,2) constraint BUDGET_PROJECT_INCOME_AM NOT NULL ENABLE, 
	"DESCRIPTION" VARCHAR2(2000) constraint BUDGET_PROJECT_INCOME_DE NOT NULL ENABLE, 
	
	"UPDATE_TIMESTAMP" DATE constraint BUDGET_PROJECT_INCOME_UT NOT NULL ENABLE, 
	"UPDATE_USER" VARCHAR2(60) constraint BUDGET_PROJECT_INCOME_UU NOT NULL ENABLE, 
	"VER_NBR" NUMBER(8,0) DEFAULT 1  constraint  BUDGET_PROJECT_INCOME_VN  NOT NULL ENABLE,
	"OBJ_ID" VARCHAR2(36) DEFAULT SYS_GUID()  constraint  BUDGET_PROJECT_INCOME_OI  NOT NULL ENABLE,
	
	CONSTRAINT "PK_BUDGET_PROJECT_INCOME_KRA" PRIMARY KEY ("PROPOSAL_NUMBER", "BUDGET_VERSION_NUMBER", "PROJECT_INCOME_ID") ENABLE
);

ALTER TABLE BUDGET_PROJECT_INCOME ADD CONSTRAINT "FK_BUDGET_PROJ_INC_BUDGET_KRA" FOREIGN KEY ("PROPOSAL_NUMBER", "BUDGET_VERSION_NUMBER")
	  REFERENCES "BUDGET" ("PROPOSAL_NUMBER", "VERSION_NUMBER");

ALTER TABLE BUDGET_PROJECT_INCOME ADD CONSTRAINT "FK_BUDGET_PROJ_INC_BP_KRA" FOREIGN KEY ("PROPOSAL_NUMBER", "BUDGET_VERSION_NUMBER", "BUDGET_PERIOD")
	  REFERENCES "BUDGET_PERIODS" ("PROPOSAL_NUMBER", "VERSION_NUMBER", "BUDGET_PERIOD");
	  
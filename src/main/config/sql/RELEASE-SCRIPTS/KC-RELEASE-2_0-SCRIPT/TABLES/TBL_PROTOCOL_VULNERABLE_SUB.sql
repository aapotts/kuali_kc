CREATE TABLE PROTOCOL_VULNERABLE_SUB (
    PROTOCOL_VULNERABLE_SUB_ID NUMBER (12, 0) NOT NULL, 
    PROTOCOL_ID NUMBER (12, 0) NOT NULL, 
    PROTOCOL_NUMBER VARCHAR2 (20) NOT NULL, 
    SEQUENCE_NUMBER NUMBER (4, 0) NOT NULL, 
    VULNERABLE_SUBJECT_TYPE_CODE VARCHAR2 (3) NOT NULL, 
    SUBJECT_COUNT NUMBER (6, 0) , 
    UPDATE_TIMESTAMP DATE NOT NULL, 
    UPDATE_USER VARCHAR2 (60) NOT NULL, 
    VER_NBR NUMBER (8, 0) DEFAULT 1 NOT NULL, 
    OBJ_ID VARCHAR2 (36) DEFAULT SYS_GUID () NOT NULL) ;

ALTER TABLE PROTOCOL_VULNERABLE_SUB 
    ADD CONSTRAINT PK_PROTOCOL_VULNERABLE_SUB 
            PRIMARY KEY (PROTOCOL_VULNERABLE_SUB_ID) ;

ALTER TABLE PROTOCOL_VULNERABLE_SUB 
    ADD CONSTRAINT UQ_PROTOCOL_VULNERABLE_SUB 
            UNIQUE (PROTOCOL_ID, VULNERABLE_SUBJECT_TYPE_CODE) ;


package org.kuali.kra;

import com.thoughtworks.selenium.*;
import org.junit.After;
import org.junit.Before;
import org.junit.Test;
import java.util.regex.Pattern;

public class CommitteeCompleteTest extends KcSeleniumTestBase {
	@Before
	public void setUp() throws Exception {
		selenium = new DefaultSelenium("localhost", 4444, "*firefox", "http://127.0.0.1:8080/");
		selenium.start();
	}

	@Test
	public void testCommitteeComplete() throws Exception {
		selenium.open("/kc-dev/portal.do?channelTitle=Create%20Protocol&channelUrl=protocolProtocol.do?methodToCall=docHandler&command=initiate&docTypeName=ProtocolDocument");
		selenium.click("link=Central Admin");
		selenium.waitForPageToLoad("30000");
		selenium.click("//table[@id='iframe_portlet_container_table']/tbody/tr/td[3]/div[2]/div[2]/div/table/tbody/tr[1]/td[2]/a[1]/img");
		selenium.waitForPageToLoad("30000");
		selenium.selectFrame("iframeportlet");
		selenium.type("//input[@id='document.documentHeader.documentDescription']", "test");
		selenium.type("//input[@id='document.committeeList[0].committeeId']", "comm11");
		selenium.type("//input[@id='document.committeeList[0].committeeName']", "cpmm name");
		selenium.type("//input[@id='document.committeeList[0].homeUnitNumber']", "000001");
		selenium.select("//select[@id='document.committeeList[0].committeeTypeCode']", "label=IRB");
		selenium.type("//textarea[@id='document.committeeList[0].scheduleDescription']", "test");
		selenium.type("//textarea[@id='document.committeeList[0].committeeDescription']", "test");
		selenium.select("//select[@id='document.committeeList[0].reviewTypeCode']", "label=Full");
		selenium.type("//input[@id='document.committeeList[0].minimumMembersRequired']", "8");
		selenium.type("//input[@id='document.committeeList[0].maxProtocols']", "9");
		selenium.type("//input[@id='document.committeeList[0].advancedSubmissionDaysRequired']", "7");
		selenium.type("//input[@id='document.committeeList[0].maxProtocols']", "100");
		selenium.click("methodToCall.performLookup.(!!org.kuali.kra.bo.ResearchArea!!).((``)).(:;committeeResearchAreas;:).((%true%)).((~~)).anchorAreaofResearch");
		selenium.waitForPageToLoad("30000");
		selenium.click("//input[@name='methodToCall.search' and @value='search']");
		selenium.waitForPageToLoad("30000");
		selenium.click("selectedObjId-5D3A0F0446DDD6C5E0404F8189D82652");
		selenium.click("methodToCall.prepareToReturnSelectedResults.(::;false;::)");
		selenium.waitForPageToLoad("30000");
		selenium.click("methodToCall.headerTab.headerDispatch.save.navigateTo.committeeMembership");
		selenium.waitForPageToLoad("30000");
		selenium.click("methodToCall.performLookup.(!!org.kuali.kra.bo.KcPerson!!).(((personId:committeeHelper.newCommitteeMembership.personId,fullName:committeeHelper.newCommitteeMembership.personName))).((``)).((<>)).(([])).((**)).((^^)).((&&)).((//)).((~~)).(::::;;::::).anchor");
		selenium.waitForPageToLoad("30000");
		selenium.click("//input[@name='methodToCall.search' and @value='search']");
		selenium.waitForPageToLoad("30000");
		selenium.click("//table[@id='row']/tbody/tr[4]/td[1]/a");
		selenium.waitForPageToLoad("30000");
		selenium.click("methodToCall.addCommitteeMembership");
		selenium.waitForPageToLoad("30000");
		selenium.click("tab-1-imageToggle");
		selenium.click("tab-3-imageToggle");
		selenium.select("//select[@id='document.committeeList[0].committeeMemberships[0].membershipTypeCode']", "label=Voting member");
		selenium.click("//img[@alt='Date selector']");
		selenium.click("//tbody/tr[3]/td[6]");
		selenium.click("//img[@id='document.committeeList[0].committeeMemberships[0].termEndDate_datepicker']");
		selenium.click("tab-30-imageToggle");
		selenium.select("committeeHelper.newCommitteeMembershipRoles[0].membershipRoleCode", "label=Chair");
		selenium.click("committeeHelper.newCommitteeMembershipRoles[0].startDate_datepicker");
		selenium.click("//div[4]/table/tbody/tr[3]/td[6]");
		selenium.click("committeeHelper.newCommitteeMembershipRoles[0].endDate_datepicker");
		selenium.click("methodToCall.addCommitteeMembershipRole.document.committeeList[0].committeeMemberships[0].line0");
		selenium.waitForPageToLoad("30000");
		selenium.click("tab-37-imageToggle");
		selenium.click("methodToCall.performLookup.(!!org.kuali.kra.bo.ResearchArea!!).((``)).(:;committeeResearchAreas;:).((%true%)).((~~)).anchor37.memberIndex0");
		selenium.waitForPageToLoad("30000");
		selenium.click("//input[@name='methodToCall.search' and @value='search']");
		selenium.waitForPageToLoad("30000");
		selenium.click("selectedObjId-5D3A0F0446DED6C5E0404F8189D82652");
		selenium.click("methodToCall.prepareToReturnSelectedResults.(::;false;::)");
		selenium.waitForPageToLoad("30000");
		selenium.click("methodToCall.save");
		selenium.waitForPageToLoad("30000");
		selenium.click("methodToCall.performLookup.(!!org.kuali.kra.bo.KcPerson!!).(((personId:committeeHelper.newCommitteeMembership.personId,fullName:committeeHelper.newCommitteeMembership.personName))).((``)).((<>)).(([])).((**)).((^^)).((&&)).((//)).((~~)).(::::;;::::).anchor");
		selenium.waitForPageToLoad("30000");
		selenium.click("//input[@name='methodToCall.search' and @value='search']");
		selenium.waitForPageToLoad("30000");
		selenium.click("//table[@id='row']/tbody/tr[8]/td[1]/a");
		selenium.waitForPageToLoad("30000");
		selenium.click("methodToCall.addCommitteeMembership");
		selenium.waitForPageToLoad("30000");
		selenium.click("tab-38-imageToggle");
		selenium.click("tab-40-imageToggle");
		selenium.select("//select[@id='document.committeeList[0].committeeMemberships[1].membershipTypeCode']", "label=Voting member");
		selenium.click("//img[@id='document.committeeList[0].committeeMemberships[1].termStartDate_datepicker']");
		selenium.click("//tbody/tr[3]/td[6]");
		selenium.click("//img[@id='document.committeeList[0].committeeMemberships[1].termEndDate_datepicker']");
		selenium.click("//div[3]/table/thead/tr[2]/td[5]/div");
		selenium.click("tab-67-imageToggle");
		selenium.select("committeeHelper.newCommitteeMembershipRoles[1].membershipRoleCode", "label=IRB Administrator");
		selenium.click("committeeHelper.newCommitteeMembershipRoles[1].startDate_datepicker");
		selenium.click("//div[4]/table/tbody/tr[3]/td[6]");
		selenium.click("committeeHelper.newCommitteeMembershipRoles[1].endDate_datepicker");
		selenium.click("methodToCall.addCommitteeMembershipRole.document.committeeList[0].committeeMemberships[1].line1");
		selenium.waitForPageToLoad("30000");
		selenium.click("tab-74-imageToggle");
		selenium.click("methodToCall.performLookup.(!!org.kuali.kra.bo.ResearchArea!!).((``)).(:;committeeResearchAreas;:).((%true%)).((~~)).anchor74.memberIndex1");
		selenium.waitForPageToLoad("30000");
		selenium.click("//input[@name='methodToCall.search' and @value='search']");
		selenium.waitForPageToLoad("30000");
		selenium.click("selectedObjId-5D3A0F04451ED6C5E0404F8189D82652");
		selenium.click("methodToCall.prepareToReturnSelectedResults.(::;false;::)");
		selenium.waitForPageToLoad("30000");
		selenium.click("methodToCall.save");
		selenium.waitForPageToLoad("30000");
		selenium.click("methodToCall.performLookup.(!!org.kuali.kra.bo.NonOrganizationalRolodex!!).(((rolodexId:committeeHelper.newCommitteeMembership.rolodexId,fullName:committeeHelper.newCommitteeMembership.personName))).((``)).((<>)).(([])).((**)).((^^)).((&&)).((//)).((~~)).(::::;;::::).anchor");
		selenium.waitForPageToLoad("30000");
		selenium.click("//input[@name='methodToCall.search' and @value='search']");
		selenium.waitForPageToLoad("30000");
		selenium.click("//table[@id='row']/tbody/tr[8]/td[1]/a");
		selenium.waitForPageToLoad("30000");
		selenium.click("methodToCall.addCommitteeMembership");
		selenium.waitForPageToLoad("30000");
		selenium.click("tab-75-imageToggle");
		selenium.click("tab-77-imageToggle");
		selenium.select("//select[@id='document.committeeList[0].committeeMemberships[2].membershipTypeCode']", "label=Voting member");
		selenium.click("//img[@id='document.committeeList[0].committeeMemberships[2].termStartDate_datepicker']");
		selenium.click("//tbody/tr[3]/td[6]");
		selenium.click("//img[@id='document.committeeList[0].committeeMemberships[2].termEndDate_datepicker']");
		selenium.click("tab-104-imageToggle");
		selenium.select("committeeHelper.newCommitteeMembershipRoles[2].membershipRoleCode", "label=Alternate");
		selenium.click("committeeHelper.newCommitteeMembershipRoles[2].startDate_datepicker");
		selenium.click("//div[4]/table/tbody/tr[3]/td[6]");
		selenium.click("committeeHelper.newCommitteeMembershipRoles[2].endDate_datepicker");
		selenium.click("methodToCall.addCommitteeMembershipRole.document.committeeList[0].committeeMemberships[2].line2");
		selenium.waitForPageToLoad("30000");
		selenium.click("tab-111-imageToggle");
		selenium.click("methodToCall.performLookup.(!!org.kuali.kra.bo.ResearchArea!!).((``)).(:;committeeResearchAreas;:).((%true%)).((~~)).anchor111.memberIndex2");
		selenium.waitForPageToLoad("30000");
		selenium.click("//input[@name='methodToCall.search' and @value='search']");
		selenium.waitForPageToLoad("30000");
		selenium.click("selectedObjId-5D3A0F0446E0D6C5E0404F8189D82652");
		selenium.click("methodToCall.prepareToReturnSelectedResults.(::;false;::)");
		selenium.waitForPageToLoad("30000");
		selenium.click("methodToCall.save");
		selenium.waitForPageToLoad("30000");
		selenium.click("methodToCall.headerTab.headerDispatch.save.navigateTo.committeeSchedule");
		selenium.waitForPageToLoad("30000");
		selenium.click("//input[@name='committeeHelper.scheduleData.recurrenceType' and @value='WEEKLY']");
		selenium.click("//input[@name='committeeHelper.scheduleData.recurrenceType' and @value='MONTHLY']");
		selenium.click("committeeHelper.scheduleData.monthlySchedule.scheduleEndDate_datepicker");
		selenium.click("//td[5]/div");
		selenium.click("methodToCall.addEvent.anchorSchedule");
		selenium.waitForPageToLoad("30000");
		selenium.click("methodToCall.save");
		selenium.waitForPageToLoad("30000");
		selenium.click("methodToCall.route");
		selenium.waitForPageToLoad("30000");
		selenium.click("methodToCall.headerTab.headerDispatch.reload.navigateTo.committeeMembership");
		selenium.waitForPageToLoad("30000");
		selenium.click("methodToCall.headerTab.headerDispatch.reload.navigateTo.committeeSchedule");
		selenium.waitForPageToLoad("30000");
		selenium.selectFrame("relative=up");
		selenium.click("//img[@alt='doc search']");
		selenium.waitForPageToLoad("30000");
		selenium.selectFrame("iframeportlet");
		selenium.click("//input[@name='methodToCall.search' and @value='search']");
		selenium.waitForPageToLoad("30000");
		selenium.click("link=10126");
		selenium.waitForPageToLoad("30000");
		selenium.click("methodToCall.headerTab.headerDispatch.reload.navigateTo.committeeMembership");
		selenium.waitForPageToLoad("30000");
		selenium.click("methodToCall.headerTab.headerDispatch.reload.navigateTo.committeeSchedule");
		selenium.waitForPageToLoad("30000");
	}

	@After
	public void tearDown() throws Exception {
		selenium.stop();
	}
}

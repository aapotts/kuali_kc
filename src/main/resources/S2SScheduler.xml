<?xml version="1.0" encoding="UTF-8"?>
<!--
 Copyright 2008 The Kuali Foundation.
  
 Licensed under the Educational Community License, Version 1.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at
  
 http://www.opensource.org/licenses/ecl1.php
  
 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
 */
-->
<Scheduler>

    <!--
        S2SPolling Job node:
        logfilename : Log file name
        enablingkey : Key defined in OSP$PARAMETER table to enable S2SPolling Job
        nodereader : reader class to read the node
        jobscheduler : class to perform s2s polling task
    -->
    <S2SPolling enablingkey="SCHEDULER_SERVICE_ENABLED" 
                jobscheduler="org.kuali.kra.s2s.polling.S2SPollingTask">
        <!--
        Each Job can have n number of tasks, which also can be configured with 
        node attributes.
        id: task id 
        pollinginterval: Polling interval for the task. Defined in minutes
        mailinterval : An email will be sent after this time interval. Defined in minutes
        stoppollinterval : Task will stop polling after the time defined as stoppollinterval.
                            Defined in hours.
        -->
        <task id="pre-validation" pollinginterval="20" mailinterval="20" stoppollinterval="4320">
            <!--
                Mail node can be configured by giving all required information, like to, cc, bcc etc
                message : This will get added as a heading in the message followed by actual message
                footer : This is plain text will be added as footer in the message
            -->
            <mail dunsnumber="" to="ganeshpp@nous.soft.net" cc="" bcc="" 
                        message="Grants.Gov Submissions - Pre-Validation" 
                        subject="Grants.Gov Submissions - Pre-Validation" footer=""/>
            <!-- 
                status : Proposals with these statuses will get polled
            -->
            <status code="1" value="Submitted to Grants.Gov"/>
            <status code="2" value="Receiving"/>
            <status code="3" value="Received"/>
            <status code="4" value="Processing"/>
        </task>
       <task id="validation" pollinginterval="60" mailinterval="120" stoppollinterval="1440">
            <mail dunsnumber="001425594" to="ganeshpp@nous.soft.net" cc="" bcc="" 
                            message="Grants.Gov Submissions - Validated" 
                            subject="Grants.Gov Submissions - Validated"
                             footer=""/>
            <status code="5" value="Validated"/>
        </task>
        <task id="post-validation" pollinginterval="120" mailinterval="240" stoppollinterval="1440">
            <mail dunsnumber="001425594" to="ganeshpp@nous.soft.net" cc="" bcc="" 
                            message="Grants.Gov Submissions - Received by Agency" 
                            subject="Grants.Gov Submissions - Received by Agency"
                             footer=""/>
            <status code="6" value="Received by Agency"/>
        </task>
        <task id="error-out" pollinginterval="20" mailinterval="40" stoppollinterval="24" >
            <mail dunsnumber="" to="ganeshpp@nous.soft.net" cc="" bcc="" 
               message="Grants.Gov Submissions - Errors" 
               subject="Grants.Gov Submissions - Errors"
                             footer=""/>
            <status code="10" value="Grants.Gov Submission Error"/> 
        </task> 
    </S2SPolling>
</Scheduler>
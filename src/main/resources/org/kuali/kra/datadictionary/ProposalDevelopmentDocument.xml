<?xml version="1.0" encoding="UTF-8"?>
<!--
 Copyright 2006-2008 The Kuali Foundation

 Licensed under the Educational Community License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

 http://www.osedu.org/licenses/ECL-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
-->
<!DOCTYPE dictionaryEntry PUBLIC
    "-//Kuali Project//DTD Data Dictionary 1.0//EN"
    "dataDictionary-1_0.dtd">

<dictionaryEntry>
    <transactionalDocument>

        <documentClass>org.kuali.kra.proposaldevelopment.document.ProposalDevelopmentDocument</documentClass> 
        <businessRulesClass>org.kuali.kra.proposaldevelopment.rules.ProposalDevelopmentDocumentRule</businessRulesClass>
		<usePessimisticLocking>true</usePessimisticLocking>
		<useWorkflowPessimisticLocking>true</useWorkflowPessimisticLocking>
        <documentAuthorizerClass>org.kuali.kra.proposaldevelopment.document.authorization.ProposalDevelopmentDocumentAuthorizer</documentAuthorizerClass>
        <authorizations>
            <authorization action="initiate">
                <workgroups>
                    <workgroup>KualiUniversalGroup</workgroup>
                </workgroups>
            </authorization>
        </authorizations>

        <documentTypeName>ProposalDevelopmentDocument</documentTypeName>
        <documentTypeCode>PRDV</documentTypeCode>
		
        <label>Proposal Development Document</label>
        <shortLabel>Prop Dev Doc</shortLabel>        

        <attributes>
			<attribute name="proposalNumber">
                <label>Proposal ID</label>
                <shortLabel>Proposal ID</shortLabel>

                <maxLength>12</maxLength>
                <validationPattern><numeric /></validationPattern>

                <required>true</required>

                <control>
					<hidden />
                </control>

                <summary>Proposal Number</summary>
                <description>The unique proposal number identifying a proposal. This is a system generated, sequential number.</description>
			</attribute>
            <attribute name="title">
                <label>Project Title</label>
                <shortLabel>Title</shortLabel>

                <maxLength>150</maxLength>
                <validationPattern><anyCharacter allowWhitespace="true" /></validationPattern>

                <required>true</required>

                <control>
                    <textarea rows="3" cols="80" />
                </control>

                <summary>The title of the propsal.</summary>
                <description>The proposed title of the project. </description>
			</attribute>

			<attribute name="sponsorCode">
				<label>Sponsor ID</label>
				<shortLabel>Sponsor</shortLabel>

				<maxLength>6</maxLength>
				<validationPattern><anyCharacter /></validationPattern>

				<required>true</required>

				<control>
					<text size="12"/>
				</control>

				<summary>Agency/Sponsor #</summary>
				<description>The identification number of the organization or agency that is providing support for the sponsored project.</description>
			</attribute>

            <attributeReference name="requestedStartDateInitial" sourceClassName="org.kuali.kra.bo.KraAttributeReferenceDummy" sourceAttributeName="genericDate" >
                <label>Project Start Date</label>
                <shortLabel>Start Dt</shortLabel>

 				<required>true</required>

                <summary>The Start Date of the Proposal</summary>
                <description>The date the project period will begin.</description>
      		</attributeReference>

            <attributeReference name="requestedEndDateInitial" sourceClassName="org.kuali.kra.bo.KraAttributeReferenceDummy" sourceAttributeName="genericDate" >
                <label>Project End Date</label>
                <shortLabel>End Dt</shortLabel>

 				<required>true</required>

                <summary>The End Date of the Proposal</summary>
                <description>The date the project period will terminate. Use the date format (mm/dd/yyyy)</description>
      		</attributeReference>

      		<attribute name="activityTypeCode">
                <label>Activity Type</label>
                <shortLabel>Activity Type</shortLabel>

                <maxLength>3</maxLength>
                <validationPattern>
                    <alphaNumeric />
                </validationPattern>

                <required>true</required>

                <control>                    
                    <select valuesFinderClass="org.kuali.kra.lookup.keyvalue.ExtendedPersistableBusinessObjectValuesFinder" businessObjectClass="org.kuali.kra.proposaldevelopment.bo.ActivityType" keyAttribute="activityTypeCode" labelAttribute="description" includeKeyInLabel="false"/>
                </control>

                <summary>Activity Type summary</summary>
                <description>The type of activity proposed, e.g. organized research, instruction, etc.</description>
            </attribute>

            <attribute name="ownedByUnitNumber">
                <label>Lead Unit</label>
                <shortLabel>Lead Unit</shortLabel>

                <maxLength>8</maxLength>
                <validationPattern><anyCharacter /></validationPattern>

                <required>true</required>

                <control>
                    <select valuesFinderClass="org.kuali.kra.proposaldevelopment.lookup.keyvalue.LeadUnitValuesFinder" />
                </control>

                <summary>Lead Unit (Owned by Unit)</summary>
                <description>The proposal's fixed home unit that will be used for routing and business rule purposes. AKA Owned by Unit.</description>
			</attribute>

			<attribute name="proposalTypeCode">
                <label>Proposal Type</label>
                <shortLabel>Proposal Type</shortLabel>

                <maxLength>3</maxLength>
                <validationPattern><alphaNumeric /></validationPattern>

                <required>true</required>

                <control>
                    <select valuesFinderClass="org.kuali.kra.lookup.keyvalue.ExtendedPersistableBusinessObjectValuesFinder" businessObjectClass="org.kuali.kra.proposaldevelopment.bo.ProposalType" keyAttribute="proposalTypeCode" labelAttribute="description" includeKeyInLabel="false"/>
                </control>

                <summary>The Types that the Proposal Could be.</summary>
                <description>The type of the proposal.</description>
            </attribute>

      		<attribute name="currentAwardNumber">
				<label>Award ID</label>
				<shortLabel>Award ID</shortLabel>

				<maxLength>10</maxLength>
				<validationPattern><anyCharacter /></validationPattern>

				<required>false</required>

				<control>
					<text size="20"/>
				</control>

				<summary>The Sponsor Award Number for this Proposal.</summary>
				<description>A unique institutionally assigned number of a previously funded application.</description>
			</attribute>

      		<attribute name="continuedFrom">
				<label>Original Proposal ID</label>
				<shortLabel>Original Proposal ID</shortLabel>

				<maxLength>8</maxLength>
				<validationPattern><alphaNumeric /></validationPattern>

				<required>false</required>

				<control>
					<text size="20"/>
				</control>

				<summary>The Original Proposal ID for this Proposal.</summary>
				<description>A unique institutionally assigned proposal number of a previously submitted proposal. This is applicable when submitting a revised (changed/corrected) application.</description>
			</attribute>

<!-- Sponsor & Program Information -->
            <attributeReference name="deadlineDate" sourceClassName="org.kuali.core.bo.AttributeReferenceDummy" sourceAttributeName="genericDate" >
                <label>Sponsor Deadline Date</label>
                <shortLabel>Sponsor Deadline Date</shortLabel>

 				<required>false</required>

                <summary>The Deadline Date of the Proposal</summary>
                <description>The date in which the proposal is due to the sponsoring agency.  Additional deadlines may be set by the office authorized to submit proposals on behalf of the institution (e.g. sponsored programs, etc.).</description>
      		</attributeReference>

			<attribute name="deadlineType">
                <label>Sponsor Deadline Type</label>
                <shortLabel>Sponsor Deadline Type</shortLabel>

                <maxLength>3</maxLength>
                <validationPattern><anyCharacter/></validationPattern>

                <required>false</required>

                <control>                    
                    <select valuesFinderClass="org.kuali.kra.lookup.keyvalue.ExtendedPersistableBusinessObjectValuesFinder" businessObjectClass="org.kuali.kra.proposaldevelopment.bo.DeadlineType" keyAttribute="deadlineTypeCode" labelAttribute="description" includeKeyInLabel="false"/>
                </control>

                <summary>The Deadline Type for this Proposal.</summary>
                <description>Indicates the type of proposal deadline.</description>
            </attribute>

      		<attribute name="primeSponsorCode">
				<label>Prime Sponsor ID</label>
				<shortLabel>Prime Sponsor ID</shortLabel>

				<maxLength>6</maxLength>
				<validationPattern><anyCharacter /></validationPattern>

				<required>false</required>

				<control>
					<text size="20"/>
				</control>

				<summary>The Prime Sponsor for this Proposal.</summary>
				<description>The sponsor that provides the original source of project funding.</description>
			</attribute>

			<attribute name="nsfCode">
                <label>NSF Science Code</label>
                <shortLabel>NSF Science Code</shortLabel>

                <maxLength>15</maxLength>
                <validationPattern><anyCharacter /></validationPattern>

				<required>false</required>

				<control>                    
                    <select valuesFinderClass="org.kuali.kra.lookup.keyvalue.ExtendedPersistableBusinessObjectValuesFinder" businessObjectClass="org.kuali.kra.bo.NsfCode" keyAttribute="nsfCode" labelAttribute="description" includeKeyInLabel="false"/>
				</control>

                <summary>The NSF Science Code for this Proposal.</summary>
                <description>A number used to indicate the type of research activity as defined by the National Science Foundation. NSF codes are not specific for NSF proposals and/or awards.</description>
			</attribute>

			<attribute name="agencyDivisionCode">
				<label>Sponsor Div Code</label>
				<shortLabel>Sponsor Div Code</shortLabel>

				<maxLength>50</maxLength>
				<validationPattern><anyCharacter allowWhitespace="true" /></validationPattern>

				<required>false</required>

				<control>
					<text size="50"/>
				</control>

				<summary>The Sponsor Division Code for this Proposal.</summary>
				<description>A code that is unique to each NSF division.  Currently specific to the NSF only.</description>
			</attribute>

			<attribute name="programAnnouncementTitle">
				<label>Opportunity Title</label>
				<shortLabel>Opportunity Title</shortLabel>

				<maxLength>255</maxLength>
				<validationPattern><anyCharacter allowWhitespace="true" /></validationPattern>

				<required>false</required>

				<control>
                    <textarea rows="3" cols="80" />
				</control>

				<summary>The Opportunity Title for this Proposal.</summary>
				<description>The title of a publicly available document, announcing a federal agency's intentions to award discretionary grants or cooperative agreements, usually as a result of competition for funds.  AKA  Funding opportunity announcements, notices of funding availability, or solicitations.</description>
			</attribute>

			<attribute name="noticeOfOpportunityCode">
                <label>Notice of Opportunity</label>
                <shortLabel>Notice of Opportunity</shortLabel>

                <maxLength>3</maxLength>
                <validationPattern><anyCharacter /></validationPattern>

                <required>false</required>

                <control>
                    <select valuesFinderClass="org.kuali.kra.proposaldevelopment.lookup.keyvalue.NoticeOfOpportunityValuesFinder" />
                </control>

                <summary>Notice of Opportunity for this Proposal.</summary>
                <description>Indicates if the proposal was in response to a solicitation, the type of solicitation or if it is unsolicited.</description>
            </attribute>

      		<attribute name="cfdaNumber">
				<label>CFDA Number</label>
				<shortLabel>CFDA Number</shortLabel>

				<maxLength>7</maxLength>
				<validationPattern><anyCharacter /></validationPattern>

				<required>false</required>

				<control>
					<text size="20"/>
				</control>

				<summary>The CFDA Number for this Proposal.</summary>
				<description>A unique identifier for the sponsor and the funding opportunity announcement.  AKA "Catalogue of Federal Domestic Assistance Number." The format for this CFDA Number is XX.XXX</description>
			</attribute>

      		<attribute name="programAnnouncementNumber">
				<label>Opportunity ID</label>
				<shortLabel>Opportunity ID</shortLabel>

				<maxLength>50</maxLength>
				<validationPattern><anyCharacter allowWhitespace="true" /></validationPattern>

				<required>false</required>

				<control>
					<text size="20"/>
				</control>

				<summary>The Opportunity ID for this Proposal.</summary>
				<description>A unique identifier associated with each sponsor's funding opportunity announcement. AKA "Funding Opportunity Announcement number" or "FOA number"</description>
			</attribute>

      		<attribute name="sponsorProposalNumber">
				<label>Sponsor Proposal ID</label>
				<shortLabel>Sponsor Proposal ID</shortLabel>

				<maxLength>70</maxLength>
				<validationPattern><anyCharacter allowWhitespace="true" /></validationPattern>

				<required>false</required>

				<control>
					<text size="20"/>
				</control>

				<summary>The Sponsor ID for this Proposal.</summary>
				<description>The unique identifier assigned by the sponsor when the proposal was submitted.</description>
			</attribute>

            <attributeReference name="subcontracts" sourceClassName="org.kuali.core.bo.AttributeReferenceDummy" sourceAttributeName="genericBoolean">
                <label>Does this proposal include subaward(s)?</label>
                <shortLabel>Subaward Flag</shortLabel>
                <summary>Subaward Flag</summary>
                <description>The proposal will include a sub award with another institution.</description>
			</attributeReference>

			<attribute name="agencyProgramCode">
				<label>Sponsor Program Code</label>
				<shortLabel>Sponsor Program Code</shortLabel>

				<maxLength>50</maxLength>
				<validationPattern><anyCharacter allowWhitespace="true" /></validationPattern>

				<required>false</required>

                <control>
					<text size="50"/>
                </control>

				<summary>The Sponsor Program Code for this Proposal.</summary>
				<description>A code that is unique to each NSF program.  Currently specific to the NSF only.</description>
			</attribute>

<!-- delivery info -->
<!--  TODO : rename to mailTypeCode mailTypeCode ? -->
            <attribute name="mailBy">
                <label>Mail By</label>
                <shortLabel>Mail By</shortLabel>

                <maxLength>1</maxLength>
                <validationPattern><anyCharacter /></validationPattern>

                <required>false</required>

                <control>                    
                    <select valuesFinderClass="org.kuali.kra.lookup.keyvalue.ExtendedPersistableBusinessObjectValuesFinder" businessObjectClass="org.kuali.kra.proposaldevelopment.bo.MailBy" keyAttribute="mailByCode" labelAttribute="description" includeKeyInLabel="false"/>
                </control>

                <summary>Mail By</summary>
                <description>This field determines whether the Sponsored Programs Office or the department will be mailing the proposal to the agency/sponsor.</description>
			</attribute>

            <attribute name="mailType">
                <label>Type</label>
                <shortLabel>Type</shortLabel>

                <maxLength>1</maxLength>
                <validationPattern><anyCharacter /></validationPattern>

                <required>false</required>

                <control>                    
                    <select valuesFinderClass="org.kuali.kra.lookup.keyvalue.ExtendedPersistableBusinessObjectValuesFinder" businessObjectClass="org.kuali.kra.proposaldevelopment.bo.MailType" keyAttribute="mailType" labelAttribute="description" includeKeyInLabel="false"/>
                </control>

                <summary>Mail Type</summary>
                <description>The method by which the proposal will be delivered to the agency/sponsor.</description>
			</attribute>
			<attribute name="mailAccountNumber">
				<label>Mail Account ID</label>
				<shortLabel>Mail Account ID</shortLabel>

				<maxLength>7</maxLength>
				<validationPattern><anyCharacter allowWhitespace="true" /></validationPattern>

				<required>false</required>

				<control>
					<text size="10"/>
				</control>

				<summary>Mail Account ID</summary>
				<description>The internal school account number that should be charged the mailing costs.</description>
			</attribute>
			<attribute name="numberOfCopies">
				<label>Number of Copies</label>
				<shortLabel>Number of Copies</shortLabel>

				<maxLength>2</maxLength>
				<validationPattern><numeric /></validationPattern>

				<required>false</required>

				<control>
					<text size="3"/>
				</control>

				<summary>Number of Copies</summary>
				<description>The number of paper copies of the proposal that should be mailed to the agency/sponsor.</description>
			</attribute>
			<!-- TODO: This is an integer, but lookup return the name and address -->
			<attribute name="mailingAddressId">
				<label>Mailing Name &amp; Address</label>
				<shortLabel>Name And Address</shortLabel>

				<maxLength>6</maxLength>
				<validationPattern><numeric /></validationPattern>

				<required>false</required>

				<control>
					<hidden />
				</control>

				<summary>Mailing Name And Address</summary>
				<description>The name and address to whom the proposal will be mailed.</description>
			</attribute>
            <attribute name="mailDescription">
                <label>Mail Description</label>
                <shortLabel>Description</shortLabel>

                <maxLength>80</maxLength>
                <validationPattern><anyCharacter allowWhitespace="true" /></validationPattern>

                <required>false</required>

                <control>
                    <textarea rows="3" cols="40" />
                </control>

                <summary>Mail Description</summary>
                <description>Any information that will assist in the delivery of the proposal.</description>
			</attribute>

<!--  organization/location -->
			<attribute name="organizationId">
				<label>Applicant Organization</label>
				<shortLabel>Organization</shortLabel>

				<maxLength>8</maxLength>
				<validationPattern><anyCharacter /></validationPattern>

				<required>false</required>

				<control>
					<hidden />
				</control>

				<summary>Organization and contact info</summary>
				<description>This field is the Name of the official authorized applicant institution/unit. </description>
			</attribute>
            <attribute name="performingOrganizationId">
                <label>Performing Organization</label>
                <shortLabel>performingOrganizationId</shortLabel>

                <maxLength>8</maxLength>
                <validationPattern><anyCharacter /></validationPattern>

                <control>
   					<hidden />
                </control>

                <summary>performingOrganizationId</summary>
                <description>This field is the name of the institution(s) in which the main project effort will take place.  </description>
			</attribute>
			
			<attribute name="budgetStatus">
                <label>Budget Status</label>
                <shortLabel>Budget Status</shortLabel>

                <maxLength>1</maxLength>
                <validationPattern>
                    <alphaNumeric />
                </validationPattern>

                <control>
                    <select valuesFinderClass="org.kuali.kra.lookup.keyvalue.ExtendedPersistableBusinessObjectValuesFinder" businessObjectClass="org.kuali.kra.proposaldevelopment.bo.BudgetStatus" keyAttribute="budgetStatusCode" labelAttribute="description" includeKeyInLabel="false"/>
                </control>

                <summary>Budget Status summary</summary>
                <description>The status of the final budget version for this Proposal Development Document</description>
            </attribute>
            
            
            <attribute name="postSubmissionStatusCode">
                <label>Post Submission Status Code</label>
                <shortLabel>Post Sub Stat Code</shortLabel>

                <maxLength>1</maxLength>
                <validationPattern>
                    <alphaNumeric />
                </validationPattern>

                <control>
                    <select valuesFinderClass="org.kuali.core.lookup.keyvalues.PersistableBusinessObjectValuesFinder" businessObjectClass="org.kuali.kra.proposaldevelopment.bo.PostSubmissionStatus" keyAttribute="postSubmissionStatusCode" labelAttribute="description" includeKeyInLabel="false"/>
                </control>

                <summary>Post Submission Status Code</summary>
                <description>Post Submission Status Code</description>
            </attribute>

<!--
            <attribute name="organizationId">
                <label>Organization Id</label>
                <shortLabel>organizationId</shortLabel>

                <maxLength>8</maxLength>
                <validationPattern><anyCharacter /></validationPattern>

                <control>
                    <text size="10" />
                </control>

                <summary>organizationId</summary>
                <description>organizationId</description>
			</attribute>

			<attribute name="subcontractFlag">
				<label>Subcontract</label>
				<shortLabel>Subcontract</shortLabel>

				<maxLength>1</maxLength>

				<control><checkbox /></control>

				<summary>Subcontract Flag</summary>
				<description>Is the proposal a subcontract</description>
			</attribute>

            <attribute name="performingOrganizationId">
                <label>Performing Organization Id</label>
                <shortLabel>performingOrganizationId</shortLabel>

                <maxLength>8</maxLength>
                <validationPattern><anyCharacter /></validationPattern>

                <required>true</required>

                <control>
   					<hidden />
                </control>

                <summary>performingOrganizationId</summary>
                <description>performingOrganizationId</description>
			</attribute>
			-->

			<attributeReference name="versionNumber" sourceClassName="org.kuali.core.bo.AttributeReferenceDummy" sourceAttributeName="versionNumber" />

        </attributes>

        <summary>
            <![CDATA[&nbsp;]]>
        </summary>
        <description>Doing it right</description>
        <help parameterNamespace="KRA-PD" parameterDetailType="D" parameterName="proposalDevelopmentDocumentHelp" />

        <allowsCopy>true</allowsCopy>

        <headerNavigation>
          <headerNavigationTab>
            <navigateTo>proposal</navigateTo>
            <displayName>Proposal</displayName>
             <pageHelp parameterNamespace="KRA-PD" parameterDetailType="D" parameterName="proposalDevelopmentProposalHelp"/> 
          </headerNavigationTab>
          <headerNavigationTab>
          	<navigateTo>budgetVersions</navigateTo>
          	<displayName>Budget Versions</displayName>
             <pageHelp parameterNamespace="KRA-B" parameterDetailType="D" parameterName="budgetVersionsHelp"/> 
          </headerNavigationTab>
          <headerNavigationTab>
            <navigateTo>keyPersonnel</navigateTo>
            <displayName>Key Personnel</displayName>
             <pageHelp parameterNamespace="KRA-PD" parameterDetailType="D" parameterName="proposalDevelopmentKeyPersonnelHelp"/> 
          </headerNavigationTab>
          <headerNavigationTab>
            <navigateTo>specialReview</navigateTo>
            <displayName>Special Review</displayName>
             <pageHelp parameterNamespace="KRA-PD" parameterDetailType="D" parameterName="proposalDevelopmentSpecialReviewHelp"/> 
          </headerNavigationTab>
          <headerNavigationTab>
            <navigateTo>customData</navigateTo>
            <displayName>Custom Data</displayName>
             <pageHelp parameterNamespace="KRA-PD" parameterDetailType="D" parameterName="proposalDevelopmentCustomDataHelp"/> 
          </headerNavigationTab>
          <headerNavigationTab>
            <navigateTo>questions</navigateTo>
            <displayName>Questions</displayName>
             <pageHelp parameterNamespace="KRA-PD" parameterDetailType="D" parameterName="proposalDevelopmentQuestionsHelp"/> 
          </headerNavigationTab>
          <headerNavigationTab>
            <navigateTo>permissions</navigateTo>
            <displayName>Permissions</displayName>
             <pageHelp parameterNamespace="KRA-PD" parameterDetailType="D" parameterName="proposalDevelopmentPermissionsHelp"/> 
          </headerNavigationTab>
          <headerNavigationTab>
            <navigateTo>abstractsAttachments</navigateTo>
            <displayName>Abstracts and Attachments </displayName>
             <pageHelp parameterNamespace="KRA-PD" parameterDetailType="D" parameterName="proposalDevelopmentAbstractsAttachmentsHelp"/> 
          </headerNavigationTab>
          <headerNavigationTab>
            <navigateTo>grantsGov</navigateTo>
            <displayName>Grants.gov</displayName>
             <pageHelp parameterNamespace="KRA-PD" parameterDetailType="D" parameterName="proposalDevelopmentGrantsGovHelp"/> 
          </headerNavigationTab>
          <headerNavigationTab>
            <navigateTo>actions</navigateTo>
            <displayName>Proposal Actions</displayName>
             <pageHelp parameterNamespace="KRA-PD" parameterDetailType="D" parameterName="proposalDevelopmentActionsHelp"/> 
          </headerNavigationTab>
         <!--    <headerNavigationTab>
		    <navigateTo>auditMode</navigateTo>
		    <displayName>Audit Mode</displayName> 
		  </headerNavigationTab>-->
        </headerNavigation> 

        <allowsErrorCorrection>false</allowsErrorCorrection>
        <allowsNoteAttachments>false</allowsNoteAttachments> <!-- KRACOEUS-594/605 -->
        <displayTopicFieldInNotes>true</displayTopicFieldInNotes> <!-- KRACOEUS-511 -->        
    </transactionalDocument>
</dictionaryEntry>
